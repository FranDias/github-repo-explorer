(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(35)},20:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),s=n.n(o),i=(n(20),n(2)),c=n(3),l=n(5),u=n(4),h=n(1),m=n(6),p=function(e){var t=e.name,n=e.onChange,r=e.options;return a.a.createElement("select",{onChange:n,name:t},r.map(function(e){return a.a.createElement("option",{key:e,value:e},"Sort by ",e)}))};p.defaultProps={name:"default",onChange:function(){},options:["no options provied"]};var d=p,f=n(14),v=n.n(f),b=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChange=v()(n.props.onChange,300),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){this.onChange.cancel()}},{key:"render",value:function(){var e=this,t=this.props.placeholder;return a.a.createElement("input",{type:"text",placeholder:t,onChange:function(t){return e.onChange(t.nativeEvent.target.value)}})}}]),t}(r.Component);b.defaultProps={placeholder:"Search an organization's repositories, now dispaying HubSpot:",onChange:function(){}};var E=b,C=n(7),g=n.n(C),k=function(e){var t=e.sortDirection,n=e.onClick;return a.a.createElement("button",{onClick:n},function(e){return e?1===e?"\u2b06":"\u2b07":"\u2022"}(t))};k.ropTypes={sortDirection:g.a.oneOf([void 0,1,-1]),onClick:g.a.func.isRequired},k.defaultProps={sortDirection:void 0};var y=k,w=function(e){var t=e.header,n=e.children;return a.a.createElement("div",{className:"layout-base"},t&&a.a.createElement("header",null,t),n&&a.a.createElement("div",{className:"body"},n))},x=(n(31),function(e){var t=e.label,n=e.url,r=e.text,o=e.expands;return a.a.createElement("div",{className:"repo-cell ".concat(o?"flex-grow-1":"")},a.a.createElement("div",{className:"label"},t),function(){if(!r)return null;var e=r;return n&&(e=a.a.createElement("a",{href:n},e)),a.a.createElement("div",null,e)}())});x.defaultProps={epxands:!1,text:"none"};var O=x,j=(n(32),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isLoaded:!1,commits:[],lastRequest:void 0},n.fetchCommits=n.fetchCommits.bind(Object(h.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.fetchCommits(this.props.commits_url)}},{key:"fixCommits_url",value:function(e){return e.split("{")[0]}},{key:"shouldFetchNewCommits",value:function(){var e=this.state,t=e.lastRequest,n=e.commits;return!t||n.length<1||Date.now()-t>6e4}},{key:"fetchCommits",value:function(e){var t=this;if(e=this.fixCommits_url(e),!this.shouldFetchNewCommits())return null;fetch(e).then(function(e){return e.json()}).then(function(e){return t.setState({commits:e,lastRequest:Date.now()})})}},{key:"render",value:function(){var e=this.state.commits;return e.length<1?a.a.createElement("span",null,"loading"):a.a.createElement("div",{className:"commits"},e&&e.map(function(e){var t=e.sha,n=e.author,r=e.commit,o=e.html_url;if(!n)return null;var s=n.avatar_url,i=n.login;return a.a.createElement("div",{key:t,className:"display-flex flex-direction-row commit"},a.a.createElement("img",{className:"commit-author",src:s,alt:"commit author"}),a.a.createElement("div",{className:"display-flex flex-direction-column"},a.a.createElement("a",{href:n.html_url},i),a.a.createElement("span",null,r.message),a.a.createElement("a",{href:o},"Go")))}))}}]),t}(r.PureComponent)),S=(n(33),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={expanded:!1,asked:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderChosenAttributes",value:function(){if(this.props.repo){var e=this.props.repo,t={name:{label:"Name",url:e.html_url,text:e.name},description:{label:"Description",text:e.description,expands:!0},stargazers_count:{label:"Stars",text:e.stargazers_count},forks_count:{label:"Forks",text:e.forks_count},open_issues_count:{label:"Issues",text:e.open_issues_count,url:e.open_issues_url}};return Object.values(t).map(function(e){var t=e.label,n=e.url,r=e.text,o=e.expands;return a.a.createElement(O,{key:t,label:t,url:n,text:r,expands:o})})}}},{key:"renderExpandButton",value:function(){var e=this,t=this.state.expanded,n=t?"rotate-90":"";return a.a.createElement("button",{onClick:function(){return e.setState({expanded:!t,asked:!0})}},a.a.createElement("div",{className:n},"\u25b6"))}},{key:"render",value:function(){if(!this.props.repo)return null;var e=this.props.repo.commits_url,t=this.state,n=t.expanded,r=t.asked;return a.a.createElement("div",null,a.a.createElement("span",{className:"repo-row"},this.renderChosenAttributes(),this.renderExpandButton()),a.a.createElement("div",{className:n?"":"repo-row-commit-holder"},e&&r&&a.a.createElement(j,{commits_url:e})))}}]),t}(r.PureComponent)),_=function(e){var t=e.repoError,n=e.repos,r=e.sortBy,o=e.sortDirection;return t||!n?a.a.createElement("div",null,"That repo might not exist"):a.a.createElement(a.a.Fragment,null,n.length>0&&n.sort(function(e,t){return(e[r]>t[r]?-1:1)*o}).map(function(e){return a.a.createElement("div",{key:e.name,className:"repo-list-item"},a.a.createElement(S,{repo:e}))}))},D=(n(34),["orgs","users"]),N=["stargazers_count","forks_count","open_issues_count"],B=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={repos:[],owner:"hubSpot",ownerChoices:D[0],sortBy:N[0],sortDirection:void 0,repoError:void 0},n.selectOnChange=n.selectOnChange.bind(Object(h.a)(n)),n.selectSortCount=n.selectSortCount.bind(Object(h.a)(n)),n.reverseSort=n.reverseSort.bind(Object(h.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(h.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"newFetch",value:function(){var e=this,t=this.state,n=t.ownerChoices,r=t.owner;if(r.length<2)return this.setState({repos:[],repoError:!0}),null;fetch("".concat("https://api.github.com","/").concat(n,"/").concat(r,"/repos")).then(function(e){return e.json()}).then(function(t){return e.setState({repos:t,repoError:!1})}).catch(function(){e.setState({repoError:!0})})}},{key:"componentWillMount",value:function(){this.newFetch()}},{key:"handleInputChange",value:function(e){this.setState({owner:e}),this.newFetch()}},{key:"selectOnChange",value:function(e){this.setState({ownerChoices:D[e.nativeEvent.srcElement.selectedIndex]}),this.newFetch()}},{key:"selectSortCount",value:function(e){this.setState({sortBy:N[e.nativeEvent.srcElement.selectedIndex]})}},{key:"reverseSort",value:function(){var e=this.state.sortDirection;0!==e&&1!==e?this.setState({sortDirection:1}):this.setState({sortDirection:-1*e})}},{key:"renderSearchControls",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(E,{onChange:this.handleInputChange}),a.a.createElement(d,{onChange:this.selectOnChange,name:"ownerType",options:D}),a.a.createElement(d,{onChange:this.selectSortCount,name:"selectSortOption",options:N}),a.a.createElement(y,{sortDirection:this.state.sortDirection,onClick:this.reverseSort}))}},{key:"render",value:function(){var e=this.state,t=e.repos,n=e.sortDirection,r=e.sortBy;return a.a.createElement(w,{header:this.renderSearchControls()},a.a.createElement(_,{sortDirection:n,sortBy:r,repos:t}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.4822f97e.chunk.js.map